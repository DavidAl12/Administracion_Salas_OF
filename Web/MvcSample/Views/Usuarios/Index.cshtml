@model IEnumerable<Domain.Usuario>

<link rel="stylesheet" href="~/css/indexUsuarios.css" />

<div class="usc-dashboard container mt-4 usuarios-page">

    <!-- TÍTULO PRINCIPAL -->
    <div class="mb-4">
        <h2 class="usc-title-primary">Gestión de Usuarios</h2>
        <p class="usc-subtitle-primary">Administración de cuentas y roles del sistema</p>
    </div>

    <!-- PESTAÑAS -->
    <ul class="nav usc-tabs justify-content-center mb-4">
        <li class="nav-item">
            <a class="nav-link usc-tab-item" href="/Admin/Dashboard">Resumen</a>
        </li>
        <li class="nav-item">
            <a class="nav-link usc-tab-item" href="/Sala">Salas</a>
        </li>
        <li class="nav-item">
            <a class="nav-link usc-tab-item" href="/Equipo">Equipos</a>
        </li>
        <li class="nav-item">
            <a class="nav-link usc-tab-item active" href="/Usuarios">Usuarios</a>
        </li>
    </ul>

    <!-- CARD ENCABEZADO -->
    <div class="card shadow-sm p-4 usuarios-card-header">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h4 class="header-title m-0">Usuarios Registrados</h4>
                <small class="header-subtitle">Listado de usuarios del sistema</small>
            </div>

            <a class="btn btn-primary btn-add-usuario" href="/Usuarios/Create">
                <i class="bi bi-person-plus"></i> Crear Usuario
            </a>
        </div>
    </div>

    <!-- TABLA -->
    <div class="card shadow-sm p-4 usuarios-table-card">
        <table class="table usuarios-table align-middle">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Email</th>
                    <th>Rol</th>
                    <th>Fecha de Registro</th>
                    <th class="text-end">Acciones</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var u in Model)
                {
                    <tr>
                        <td>@u.Nombre</td>
                        <td>@u.Email</td>
                        <td>
                            @{
                                var r = u.Rol?.ToLower() ?? "";
                            }

                            @if (r == "admin")
                            {
                                <span class="badge-role-admin">Admin</span>
                            }
                            else if (r == "coordinador")
                            {
                                <span class="badge-role-coord">Coordinador</span>
                            }
                            else if (r == "usuario")
                            {
                                <span class="badge-role-user">Usuario</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">@u.Rol</span>
                            }
                        </td>

                        <td>@u.FechaRegistro.ToString("yyyy-MM-dd")</td>

                        <td class="text-end">
                            <a class="btn btn-outline-primary btn-sm" href="/Usuarios/Edit/@u.Id">
                                <i class="bi bi-pencil"></i>
                            </a>
                            <a class="btn btn-outline-danger btn-sm" href="/Usuarios/Delete/@u.Id">
                                <i class="bi bi-trash"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>
